AM_DEFAULT_SOURCE_EXT = .cpp

sbin_PROGRAMS = phosphor-log-manager

noinst_LTLIBRARIES = liblogmanager.la

liblogmanager_la_SOURCES = \
    usi_log.cpp

phosphor_log_manager_SOURCES = \
    usi_log_main.cpp 
    
phosphor_log_manager_LDADD = liblogmanager.la

liblogmanager_la_CXXFLAGS = $(SDBUSPLUS_CFLAGS) \
                                 $(PHOSPHOR_DBUS_INTERFACES_CFLAGS) \
                                 $(USI_DBUS_INTERFACES_CFLAGS) \
                                 $(PHOSPHOR_LOGGING_CFLAGS) \
                                 -flto

liblogmanager_la_LIBADD = $(SDBUSPLUS_LIBS) \
                                 $(PHOSPHOR_DBUS_INTERFACES_LIBS) \
                                 $(USI_DBUS_INTERFACES_LIBS) \
                                 $(PHOSPHOR_LOGGING_LIBS)

phosphor_log_manager_LDFLAGS = $(SDBUSPLUS_LIBS) \
                                 $(PHOSPHOR_DBUS_INTERFACES_LIBS) \
                                 $(USI_DBUS_INTERFACES_LIBS) \
                                 $(PHOSPHOR_LOGGING_LIBS)
                                 
phosphor_log_manager_CXXFLAGS =  $(SDBUSPLUS_CFLAGS) \
                                 $(PHOSPHOR_DBUS_INTERFACES_CFLAGS) \
                                 $(USI_DBUS_INTERFACES_CFLAGS) \
                                 $(PHOSPHOR_LOGGING_CFLAGS) \
                                 -flto
                                 
                                 